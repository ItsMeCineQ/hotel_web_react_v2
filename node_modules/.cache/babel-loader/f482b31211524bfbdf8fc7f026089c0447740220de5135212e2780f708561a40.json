{"ast":null,"code":"import React,{useState}from\"react\";import'../css/newsletter.css';import{Spinner,loadTime}from'./spinner.js';import icon_mail from'../img/icon_mail.png';import icon_close from'../img/icon_close.png';import icon_positive from'../img/icon_positive.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Newsletter(){const[email,setEmail]=useState('');const[error,setError]=useState(false);const[regulationsNotAccepted,setRegulationsNotAccepted]=useState(false);const[sendMail,setSendMail]=useState(false);const[regulationsChecked,setRegulationsChecked]=useState(false);const[isConfirmationVisible,setConfirmationVisible]=useState(false);const[isPositiveVisible,setPositiveVisible]=useState(false);const[showSpinner,setShowSpinner]=useState(false);const overlay=document.querySelector('.overlay');const newsletter=document.querySelector('.newsletter');const regulationsDeclined=document.querySelector('.newsletter--confirm--regulations--declined');const openConfirmationModal=()=>{if(!email){setError('Please fill in your email.');}else{setSendMail(true);setEmail('');setError('');setConfirmationVisible(true);overlay.classList.add('overlay--active');document.body.style.overflow='hidden';}};const closeNewsletter=()=>{setConfirmationVisible(false);setPositiveVisible(false);setSendMail(false);setEmail('');setError('');setRegulationsChecked(false);if(newsletter)newsletter.classList.add('newsletter--hidden');document.body.style.overflow='';};const regulationsAccept=async()=>{if(!regulationsChecked){regulationsDeclined.classList.remove('hidden');setRegulationsNotAccepted('Please accept the regulations.');}else{setShowSpinner(true);await loadTime(1000);setShowSpinner(false);positiveTimeout();}};const positiveTimeout=()=>{setPositiveVisible(true);setTimeout(()=>{setConfirmationVisible(false);setPositiveVisible(false);closeNewsletter();overlay.classList.remove('overlay--active');},2000);};const regulationsClose=()=>{setConfirmationVisible(false);setPositiveVisible(false);setRegulationsNotAccepted('');setRegulationsChecked(false);newsletter.classList.add('newsletter--hidden');overlay.classList.remove('overlay--active');document.body.style.overflow='';};const handleCheckboxChange=()=>{setRegulationsChecked(!regulationsChecked);setRegulationsNotAccepted('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"overlay\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"newsletter newsletter--hidden\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"newsletter--message\",children:\"Sign up for the newsletter, receive a discount and stay up to date!\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:e=>setEmail(e.target.value),className:\"newsletter--mail\",placeholder:\"Your email...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openConfirmationModal,className:\"button_newsletter--submit\",children:/*#__PURE__*/_jsx(\"img\",{src:icon_mail})}),/*#__PURE__*/_jsx(\"button\",{onClick:closeNewsletter,className:\"button_newsletter--close\",children:/*#__PURE__*/_jsx(\"img\",{src:icon_close})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"newsletter--error\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newsletter--confirm \".concat(isConfirmationVisible?'':'hidden'),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Confirm sending the form\"}),/*#__PURE__*/_jsx(\"p\",{children:\"By clicking the \\\"Accept\\\" button you consent to the processing of your personal data for ther purpose of sending you offers and informations about actual events and promotions on the provided e-mail address.\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"administrator--data\",children:[\"Data administrator: \",/*#__PURE__*/_jsx(\"br\",{}),\"Hotel.ly Sp. z o. o. Krak\\xF3w 12-345, \\u015Awi\\u0119tego Tomasza 21\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"newsletter--confirm--bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"newsletter--confirm--regulations-accept\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"newsletter--confirm--checkbox\",onChange:handleCheckboxChange,checked:regulationsChecked}),/*#__PURE__*/_jsx(\"p\",{children:\"Accept the regulations\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"newsletter--confirm--regulations--declined\",children:regulationsNotAccepted}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons_newsletter--confirm\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:regulationsClose,className:\"button_newsletter--confirm--decline\",children:\"Decline\"}),/*#__PURE__*/_jsx(\"button\",{onClick:regulationsAccept,className:\"button_newsletter--confirm--accept\",children:\"Accept\"})]})]}),showSpinner&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"newsletter--confirm--regulations--positive \".concat(isPositiveVisible?'':'hidden'),children:/*#__PURE__*/_jsx(\"img\",{src:icon_positive})})]})]});}","map":{"version":3,"names":["React","useState","Spinner","loadTime","icon_mail","icon_close","icon_positive","jsx","_jsx","jsxs","_jsxs","Newsletter","email","setEmail","error","setError","regulationsNotAccepted","setRegulationsNotAccepted","sendMail","setSendMail","regulationsChecked","setRegulationsChecked","isConfirmationVisible","setConfirmationVisible","isPositiveVisible","setPositiveVisible","showSpinner","setShowSpinner","overlay","document","querySelector","newsletter","regulationsDeclined","openConfirmationModal","classList","add","body","style","overflow","closeNewsletter","regulationsAccept","remove","positiveTimeout","setTimeout","regulationsClose","handleCheckboxChange","className","children","type","value","onChange","e","target","placeholder","onClick","src","concat","checked"],"sources":["C:/Users/User/Desktop/Front end/javascript/hotel_web_react/src/components/newsletter.js"],"sourcesContent":["import React,{ useState } from \"react\";\r\nimport '../css/newsletter.css';\r\nimport {Spinner, loadTime } from './spinner.js';\r\nimport icon_mail from '../img/icon_mail.png';\r\nimport icon_close from '../img/icon_close.png';\r\nimport icon_positive from '../img/icon_positive.png';\r\n\r\nexport default function Newsletter() {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [error, setError] = useState(false);\r\n    const [regulationsNotAccepted, setRegulationsNotAccepted] = useState(false);\r\n    const [sendMail, setSendMail] = useState(false);\r\n    const [regulationsChecked, setRegulationsChecked] = useState(false);\r\n    const [isConfirmationVisible, setConfirmationVisible] = useState(false);\r\n    const [isPositiveVisible, setPositiveVisible] = useState(false);\r\n    const [showSpinner, setShowSpinner] = useState(false);\r\n\r\n    const overlay = document.querySelector('.overlay');\r\n    const newsletter = document.querySelector('.newsletter');\r\n    const regulationsDeclined = document.querySelector('.newsletter--confirm--regulations--declined');\r\n\r\n    const openConfirmationModal = () => {\r\n        if (!email) {\r\n            setError('Please fill in your email.');\r\n        } else {\r\n            setSendMail(true);\r\n            setEmail('');\r\n            setError('');\r\n            setConfirmationVisible(true);\r\n            overlay.classList.add('overlay--active');\r\n            document.body.style.overflow = 'hidden';\r\n        }\r\n    }\r\n\r\n    const closeNewsletter = () => {\r\n        setConfirmationVisible(false);\r\n        setPositiveVisible(false);\r\n        setSendMail(false);\r\n        setEmail('');\r\n        setError('');\r\n        setRegulationsChecked(false);\r\n\r\n        if(newsletter)\r\n            newsletter.classList.add('newsletter--hidden');\r\n\r\n        document.body.style.overflow = '';\r\n    }\r\n\r\n    const regulationsAccept = async () => {\r\n        if (!regulationsChecked) {\r\n            regulationsDeclined.classList.remove('hidden');\r\n            setRegulationsNotAccepted('Please accept the regulations.');\r\n        } else {\r\n            setShowSpinner(true);\r\n            await loadTime(1000);\r\n            setShowSpinner(false);\r\n            positiveTimeout();\r\n        }\r\n    }\r\n\r\n    const positiveTimeout = () => {\r\n        setPositiveVisible(true);\r\n        \r\n            setTimeout(() => {\r\n                setConfirmationVisible(false);\r\n                setPositiveVisible(false);\r\n                closeNewsletter();\r\n                overlay.classList.remove('overlay--active');\r\n            }, 2000);\r\n    }\r\n\r\n    const regulationsClose = () => {\r\n        setConfirmationVisible(false);\r\n        setPositiveVisible(false);\r\n        setRegulationsNotAccepted('');\r\n        setRegulationsChecked(false);\r\n\r\n        newsletter.classList.add('newsletter--hidden');\r\n        overlay.classList.remove('overlay--active');\r\n        document.body.style.overflow = '';\r\n    }\r\n\r\n    const handleCheckboxChange = () => {\r\n        setRegulationsChecked(!regulationsChecked);\r\n        setRegulationsNotAccepted('');\r\n    };\r\n\r\n    return(\r\n        \r\n        <div className=\"overlay\">\r\n            <div className='newsletter newsletter--hidden'>\r\n                <p className=\"newsletter--message\">Sign up for the newsletter, receive a discount and stay up to date!</p>\r\n                <input type='text' value={email} onChange={e => setEmail(e.target.value)} className=\"newsletter--mail\" placeholder=\"Your email...\"></input>\r\n                <button onClick={openConfirmationModal} className=\"button_newsletter--submit\"><img src={icon_mail}></img></button>\r\n                <button onClick={closeNewsletter} className=\"button_newsletter--close\"><img src={icon_close}></img></button>\r\n                {error && <p className=\"newsletter--error\">{error}</p>}\r\n            </div>\r\n                <div className={`newsletter--confirm ${isConfirmationVisible ? '' : 'hidden'}`}>\r\n                    <h2>\r\n                        Confirm sending the form\r\n                    </h2>\r\n                    <p>\r\n                        By clicking the \"Accept\" button you consent to the processing of your personal data\r\n                        for ther purpose of sending you offers and informations about actual events\r\n                        and promotions on the provided e-mail address. \r\n                    </p>\r\n                    <p className=\"administrator--data\">\r\n                        Data administrator: <br />\r\n                        Hotel.ly Sp. z o. o. Kraków 12-345, Świętego Tomasza 21\r\n                    </p>\r\n                    <div className=\"newsletter--confirm--bottom\">\r\n                        <div className=\"newsletter--confirm--regulations-accept\">\r\n                            <input type=\"checkbox\" className='newsletter--confirm--checkbox' onChange={handleCheckboxChange} checked={regulationsChecked}></input>\r\n                            <p>Accept the regulations</p>\r\n                        </div>\r\n                        <p className=\"newsletter--confirm--regulations--declined\">{regulationsNotAccepted}</p>\r\n                        <div className=\"buttons_newsletter--confirm\">\r\n                            <button onClick={regulationsClose} className=\"button_newsletter--confirm--decline\">Decline</button>\r\n                            <button onClick={regulationsAccept} className=\"button_newsletter--confirm--accept\">Accept</button>\r\n                        </div>\r\n                    </div>\r\n                {showSpinner && <Spinner />}\r\n                    <div className={`newsletter--confirm--regulations--positive ${isPositiveVisible ? '' : 'hidden'}`}>\r\n                        <img src={icon_positive}></img>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}