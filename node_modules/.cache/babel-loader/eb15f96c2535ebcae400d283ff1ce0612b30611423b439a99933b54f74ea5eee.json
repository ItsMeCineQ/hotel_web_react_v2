{"ast":null,"code":"import'leaflet/dist/leaflet.css';import'../css/map.css';import{useEffect}from'react';import{MapContainer,TileLayer,Marker,Popup}from'react-leaflet';import{hotels}from'./hotels.js';import{Icon}from'leaflet';import{MAP_URL,MAIN_LOC,MAP_ZOOM}from'../config.js';import icon_close from'../img/icon_close.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Map(){const hotelObjects=Object.values(hotels);const iconMarker=new Icon({iconUrl:require('../img/icon_marker.png'),iconSize:[40,40]});const calcAveragePrice=function(hotel){const prices=Object.values(hotel.price);const averagePrices=Math.floor(prices.reduce((acc,price)=>acc+price,0)/prices.length);return averagePrices;};useEffect(()=>{const mapContainer=document.querySelector('.map--container');mapContainer.classList.add('map--container-visible');},[]);return/*#__PURE__*/_jsxs(\"div\",{id:\"map\",className:\"map section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"map--text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Find us on the map!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Centrally located in Krakow's historic heart, our hotel offers easy access to iconic landmarks like Rynek Gl\\xF3wny and Wawel Castle. Surrounded by charming streets, cafes, and galleries, guests can immerse themselves in the city's rich history and vibrant culture, with convenient proximity to public transportation hubs for seamless exploration.\"})]}),/*#__PURE__*/_jsxs(MapContainer,{className:\"map--container\",center:MAIN_LOC,zoom:MAP_ZOOM,scrollWheelZoom:false,children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:MAP_URL}),hotelObjects.map((hotel,index)=>/*#__PURE__*/_jsx(Marker,{icon:iconMarker,className:\"map--marker\",position:hotel.address.localization,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hotel--head\",children:[/*#__PURE__*/_jsx(\"img\",{src:hotel.image,alt:hotel.name}),/*#__PURE__*/_jsx(\"span\",{children:hotel.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hotel--details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hotel--address\",children:/*#__PURE__*/_jsxs(\"span\",{children:[hotel.address.city,\", \",hotel.address.street,\" \",hotel.address.number]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hotel--price\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Average Price:  \",calcAveragePrice(hotel),\" z\\u0142\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hotel--review\",children:hotel.reviews.reviews_rates&&hotel.reviews.reviews_rates.length>0?\"\".concat(hotel.reviews.reviews_rates.reduce((acc,review)=>acc+=review,0)/hotel.reviews.reviews_rates.length,\"/5\\u2B50\"):\"No reviews\"})]})]})},index))]})]});};","map":{"version":3,"names":["useEffect","MapContainer","TileLayer","Marker","Popup","hotels","Icon","MAP_URL","MAIN_LOC","MAP_ZOOM","icon_close","jsx","_jsx","jsxs","_jsxs","Map","hotelObjects","Object","values","iconMarker","iconUrl","require","iconSize","calcAveragePrice","hotel","prices","price","averagePrices","Math","floor","reduce","acc","length","mapContainer","document","querySelector","classList","add","id","className","children","center","zoom","scrollWheelZoom","attribution","url","map","index","icon","position","address","localization","src","image","alt","name","city","street","number","reviews","reviews_rates","concat","review"],"sources":["C:/Users/User/Desktop/Front end/javascript/hotel_web_react/src/components/map.js"],"sourcesContent":["import 'leaflet/dist/leaflet.css'\r\nimport '../css/map.css'\r\nimport { useEffect } from 'react'\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport { hotels } from './hotels.js'\r\nimport { Icon } from 'leaflet';\r\nimport { MAP_URL, MAIN_LOC, MAP_ZOOM } from '../config.js';\r\nimport icon_close from '../img/icon_close.png'\r\n\r\nexport default function Map() {\r\n  const hotelObjects = Object.values(hotels);\r\n\r\n  const iconMarker = new Icon({\r\n    iconUrl: require('../img/icon_marker.png'),\r\n    iconSize: [40, 40]\r\n  });\r\n\r\n  const calcAveragePrice = function(hotel){\r\n    const prices = Object.values(hotel.price);\r\n    const averagePrices = Math.floor(prices.reduce((acc, price) => acc + price, 0) / prices.length);\r\n    return averagePrices;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const mapContainer = document.querySelector('.map--container');\r\n    mapContainer.classList.add('map--container-visible');\r\n  }, []);\r\n\r\n  return(\r\n    <div id='map' className='map section'>\r\n      <div className='map--text'>\r\n        <h1>Find us on the map!</h1>\r\n        <p>Centrally located in Krakow's historic heart, our hotel offers easy access to iconic landmarks like Rynek Glówny and Wawel Castle. Surrounded by charming streets, cafes, and galleries, guests can immerse themselves in the city's rich history and vibrant culture, with convenient proximity to public transportation hubs for seamless exploration.</p>\r\n      </div>\r\n      <MapContainer className=\"map--container\" center={MAIN_LOC} zoom={MAP_ZOOM} scrollWheelZoom={false}>\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n          url={MAP_URL}\r\n        />\r\n        {hotelObjects.map((hotel, index) => (\r\n          <Marker icon={iconMarker} className=\"map--marker\" key={index} position={hotel.address.localization}>\r\n            <Popup>\r\n            <div className=\"hotel--head\">\r\n                      <img src={hotel.image} alt={hotel.name} />\r\n                      <span>{hotel.name}</span>\r\n                  </div>\r\n                  <div className=\"hotel--details\">\r\n                      <div className=\"hotel--address\">\r\n                          <span>{hotel.address.city}, {hotel.address.street} {hotel.address.number}</span>\r\n                      </div>\r\n                      <div className=\"hotel--price\">\r\n                          <span>Average Price:  {calcAveragePrice(hotel)} zł</span>\r\n                      </div>\r\n                      <div className=\"hotel--review\">\r\n                      {hotel.reviews.reviews_rates && hotel.reviews.reviews_rates.length > 0 ?\r\n                        `${hotel.reviews.reviews_rates.reduce((acc, review) => acc += review, 0) / hotel.reviews.reviews_rates.length}/5⭐` :\r\n                        \"No reviews\"\r\n                      }\r\n                      </div>\r\n                  </div>\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n      </MapContainer>\r\n    </div>\r\n  )\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}