{"ast":null,"code":"import'../css/availability.css';import'../css/calendar.css';import icon_search from'../img/icon_search.png';import icon_calendar from'../img/icon_calendar.png';import{useState,useEffect}from'react';import CalendarComponent from'./calendar.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CheckAvailability(){const[selectedStartDate,setSelectedStartDate]=useState(null);const[selectedEndDate,setSelectedEndDate]=useState(null);const[isToday,setIsToday]=useState(null);const handleDateChange=(date,isStartDate)=>{if(isStartDate){setSelectedStartDate(date);}else{setSelectedEndDate(date);}};const openCalendar=calendarClassName=>{const calendar=document.querySelector(\".\".concat(calendarClassName));const mapContainer=document.querySelector('.map--container');if(calendar&&mapContainer){const isHidden=calendar.classList.contains('hidden');if(isHidden){calendar.classList.remove('hidden');mapContainer.classList.add('map--under');}else{calendar.classList.add('hidden');mapContainer.classList.remove('map--under');}}};const closeCalendar=event=>{const calendarStart=document.querySelector('.calendar--start');const calendarEnd=document.querySelector('.calendar--end');const mapContainer=document.querySelector('.map--container');const mainContainer=document.querySelector('.main--container');if(calendarStart&&calendarEnd&&mainContainer&&!event.target.closest('.calendar--start')&&!event.target.closest('.calendar--end')&&!event.target.closest('.map--container')&&event.target.closest('.main--container')){calendarStart.classList.add('hidden');calendarEnd.classList.add('hidden');mapContainer.classList.remove('map--under');}};useEffect(()=>{const bookContainer=document.querySelector('.book--container');const calendarStart=document.querySelector('.calendar--start');const calendarEnd=document.querySelector('.calendar--end');const mainContainer=document.querySelector('.main--container');const today=new Date();setIsToday(today);bookContainer.classList.add('book--container-visible');calendarStart.classList.add('hidden');calendarEnd.classList.add('hidden');mainContainer.addEventListener('click',closeCalendar);return()=>{mainContainer.removeEventListener('click',closeCalendar);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"book--container\",id:\"book\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Make a reservation online\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form--book\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"hotel\",className:\"form--select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"OldTown\",children:\"Old Town Hotel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cracow\",children:\"Cracow Hotel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Wawel\",children:\"Wawel Hotel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Station\",children:\"Main Station Hotel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"choose--date date--start\",onClick:()=>openCalendar('calendar--start'),children:[/*#__PURE__*/_jsx(\"p\",{children:selectedStartDate&&selectedStartDate>=isToday?selectedStartDate.toLocaleDateString():'Start date'}),/*#__PURE__*/_jsx(\"img\",{src:icon_calendar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"choose--date date--end\",onClick:()=>openCalendar('calendar--end'),children:[/*#__PURE__*/_jsx(\"p\",{children:selectedEndDate>selectedStartDate?selectedEndDate.toLocaleDateString():'End date'}),/*#__PURE__*/_jsx(\"img\",{src:icon_calendar})]}),/*#__PURE__*/_jsx(\"div\",{className:\"calendar--start\",children:/*#__PURE__*/_jsx(CalendarComponent,{onDateChange:date=>handleDateChange(date,true)})}),/*#__PURE__*/_jsx(\"div\",{className:\"calendar--end\",children:/*#__PURE__*/_jsx(CalendarComponent,{onDateChange:date=>handleDateChange(date,false)})}),/*#__PURE__*/_jsx(\"button\",{className:\"form--submit\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Check availability\"})})]})]});}","map":{"version":3,"names":["icon_search","icon_calendar","useState","useEffect","CalendarComponent","jsx","_jsx","jsxs","_jsxs","CheckAvailability","selectedStartDate","setSelectedStartDate","selectedEndDate","setSelectedEndDate","isToday","setIsToday","handleDateChange","date","isStartDate","openCalendar","calendarClassName","calendar","document","querySelector","concat","mapContainer","isHidden","classList","contains","remove","add","closeCalendar","event","calendarStart","calendarEnd","mainContainer","target","closest","bookContainer","today","Date","addEventListener","removeEventListener","className","id","children","name","value","onClick","toLocaleDateString","src","onDateChange"],"sources":["C:/Users/User/Desktop/Front end/javascript/hotel_web_react/src/components/availability.js"],"sourcesContent":["import '../css/availability.css';\r\nimport '../css/calendar.css'\r\nimport icon_search from '../img/icon_search.png';\r\nimport icon_calendar from '../img/icon_calendar.png';\r\nimport { useState, useEffect } from 'react';\r\nimport CalendarComponent from './calendar.js';\r\n\r\nexport default function CheckAvailability() {\r\n\r\n    const [selectedStartDate, setSelectedStartDate] = useState(null);\r\n    const [selectedEndDate, setSelectedEndDate] = useState(null);\r\n    const [isToday, setIsToday] = useState(null);\r\n  \r\n    const handleDateChange = (date, isStartDate) => {\r\n        if (isStartDate) {\r\n          setSelectedStartDate(date);\r\n        } else {\r\n          setSelectedEndDate(date);\r\n        }\r\n      };\r\n    \r\n      const openCalendar = (calendarClassName) => {\r\n        const calendar = document.querySelector(`.${calendarClassName}`);\r\n        const mapContainer = document.querySelector('.map--container');\r\n      \r\n        if (calendar && mapContainer) {\r\n          const isHidden = calendar.classList.contains('hidden');\r\n      \r\n          if (isHidden) {\r\n            calendar.classList.remove('hidden');\r\n            mapContainer.classList.add('map--under');\r\n          } else {\r\n            calendar.classList.add('hidden');\r\n            mapContainer.classList.remove('map--under');\r\n          }\r\n        }\r\n      };\r\n\r\n      const closeCalendar = (event) => {\r\n        \r\n        const calendarStart = document.querySelector('.calendar--start');\r\n        const calendarEnd = document.querySelector('.calendar--end');\r\n        const mapContainer = document.querySelector('.map--container');\r\n        const mainContainer = document.querySelector('.main--container');\r\n\r\n        if (\r\n          calendarStart &&\r\n          calendarEnd &&\r\n          mainContainer &&\r\n          !event.target.closest('.calendar--start') &&\r\n          !event.target.closest('.calendar--end') &&\r\n          !event.target.closest('.map--container') &&\r\n          event.target.closest('.main--container')\r\n        ) {\r\n          calendarStart.classList.add('hidden');\r\n          calendarEnd.classList.add('hidden');\r\n          mapContainer.classList.remove('map--under');\r\n        }\r\n      };\r\n      \r\n      useEffect(() => {\r\n        const bookContainer = document.querySelector('.book--container');\r\n        const calendarStart = document.querySelector('.calendar--start');\r\n        const calendarEnd = document.querySelector('.calendar--end');\r\n        const mainContainer = document.querySelector('.main--container');\r\n        const today = new Date();\r\n        setIsToday(today);\r\n        \r\n        bookContainer.classList.add('book--container-visible');\r\n        calendarStart.classList.add('hidden');\r\n        calendarEnd.classList.add('hidden');\r\n\r\n        mainContainer.addEventListener('click', closeCalendar);\r\n\r\n        return () => {\r\n          mainContainer.removeEventListener('click', closeCalendar);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"book--container\" id=\"book\">\r\n          <h1>Make a reservation online</h1>\r\n            <div className=\"form--book\">\r\n                <select name=\"hotel\" className=\"form--select\">\r\n                    <option value=\"OldTown\">Old Town Hotel</option>\r\n                    <option value=\"Cracow\">Cracow Hotel</option>\r\n                    <option value=\"Wawel\">Wawel Hotel</option>\r\n                    <option value=\"Station\">Main Station Hotel</option>\r\n                </select>\r\n                <div className=\"choose--date date--start\" onClick={() => openCalendar('calendar--start')}>\r\n                    <p>{selectedStartDate && selectedStartDate >= isToday ? selectedStartDate.toLocaleDateString() : 'Start date'}</p><img src={icon_calendar}></img>\r\n                </div>\r\n                <div className=\"choose--date date--end\" onClick={() => openCalendar('calendar--end')}>\r\n                    <p>{selectedEndDate > selectedStartDate ? selectedEndDate.toLocaleDateString() : 'End date'}</p><img src={icon_calendar}></img>\r\n                </div>\r\n                <div className='calendar--start'>\r\n                    <CalendarComponent onDateChange={(date) => handleDateChange(date, true)} />\r\n                </div>\r\n                <div className='calendar--end'>\r\n                    <CalendarComponent onDateChange={(date) => handleDateChange(date, false)} />\r\n                </div>\r\n                <button className=\"form--submit\">\r\n                    <p>Check availability</p>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}