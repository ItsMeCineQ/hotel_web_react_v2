{"ast":null,"code":"import'../css/reviews.css';import icon_quote from'../img/icon_quote.png';import icon_arrow from'../img/icon_arrow_black.png';import{useState,useEffect,useRef}from'react';import{hotels}from'./hotels.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reviews(){const hotelObjects=Object.values(hotels);const reviews=[];const[isExpanded,setExpanded]=useState(false);const[curReview,setCurReview]=useState(false);const[touchStartX,setTouchStartX]=useState(null);const[touchEndX,setTouchEndX]=useState(null);const sectionReviewsRef=useRef(null);const toggleReviews=()=>{setExpanded(!isExpanded);};const nextReview=()=>{setCurReview(prevReview=>prevReview===reviews.length-1?prevReview:prevReview+1);};const previousReview=()=>{setCurReview(prevReview=>prevReview===0?prevReview:prevReview-1);};const handleTouchStart=event=>{setTouchStartX(event.touches[0].clientX);};const handleTouchMove=event=>{setTouchEndX(event.touches[0].clientX);};const handleTouchEnd=()=>{if(touchStartX-touchEndX>50){nextReview();}else if(touchEndX-touchStartX>50){previousReview();}};useEffect(()=>{if(!isExpanded){sectionReviewsRef.current.scrollTo({top:0,behavior:'smooth'});}},[isExpanded]);useEffect(()=>{if(sectionReviewsRef.current){sectionReviewsRef.current.scrollTo({left:sectionReviewsRef.current.offsetWidth*curReview,behavior:'smooth'});}},[curReview]);return/*#__PURE__*/_jsxs(\"div\",{id:\"reviews\",className:\"reviews section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Check out guests reviews!\"}),/*#__PURE__*/_jsxs(\"div\",{ref:sectionReviewsRef,className:\"reviews--container \".concat(isExpanded?'reviews--expand':'reviews--collapse'),onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,onTouchEnd:handleTouchEnd,children:[hotelObjects.map(hotel=>{const reviewElements=[];for(let reviewIndex=0;reviewIndex<hotel.reviews.reviews_users.length;reviewIndex++){const elReview=hotel.reviews.reviews_users[reviewIndex];const reviewElement=/*#__PURE__*/_jsxs(\"div\",{className:\"reviews--review\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"hotel--name\",children:hotel.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user--review\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"user--name\",children:elReview}),/*#__PURE__*/_jsxs(\"p\",{className:\"user--reviews_review\",children:[hotel.reviews.reviews_rates[reviewIndex],\"/5\",'⭐']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews--quotes\",children:[/*#__PURE__*/_jsx(\"img\",{src:icon_quote,alt:\"quote\",className:\"icon--quote icon--quote-start\"}),/*#__PURE__*/_jsx(\"p\",{className:\"user--reviews_text\",children:hotel.reviews.reviews_text[reviewIndex]}),/*#__PURE__*/_jsx(\"img\",{src:icon_quote,alt:\"quote\",className:\"icon--quote icon--quote-end\"})]})]},reviewIndex)]},reviewIndex);reviewElements.push(reviewElement);reviews.push(reviewElement);}return reviewElements;}),/*#__PURE__*/_jsx(\"button\",{className:\"button--reviews \".concat(isExpanded?'button--reviews-expand':''),onClick:toggleReviews,children:/*#__PURE__*/_jsx(\"img\",{src:icon_arrow,alt:\"arrow\",className:\"icon--arrow \".concat(isExpanded?'rotate':'')})})]})]});}","map":{"version":3,"names":["icon_quote","icon_arrow","useState","useEffect","useRef","hotels","jsx","_jsx","jsxs","_jsxs","Reviews","hotelObjects","Object","values","reviews","isExpanded","setExpanded","curReview","setCurReview","touchStartX","setTouchStartX","touchEndX","setTouchEndX","sectionReviewsRef","toggleReviews","nextReview","prevReview","length","previousReview","handleTouchStart","event","touches","clientX","handleTouchMove","handleTouchEnd","current","scrollTo","top","behavior","left","offsetWidth","id","className","children","ref","concat","onTouchStart","onTouchMove","onTouchEnd","map","hotel","reviewElements","reviewIndex","reviews_users","elReview","reviewElement","name","reviews_rates","src","alt","reviews_text","push","onClick"],"sources":["C:/Users/User/Desktop/Front end/javascript/hotel_web_react/src/components/reviews.js"],"sourcesContent":["import '../css/reviews.css'\r\nimport icon_quote from '../img/icon_quote.png'\r\nimport icon_arrow from '../img/icon_arrow_black.png'\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { hotels } from './hotels.js';\r\n\r\nexport default function Reviews() {\r\n\r\n    const hotelObjects = Object.values(hotels);\r\n    const reviews = [];\r\n\r\n    const [isExpanded, setExpanded] = useState(false);\r\n    const [curReview, setCurReview] = useState(false);\r\n    const [touchStartX, setTouchStartX] = useState(null);\r\n    const [touchEndX, setTouchEndX] = useState(null);\r\n    const sectionReviewsRef = useRef(null);\r\n\r\n     const toggleReviews = () => {\r\n        setExpanded(!isExpanded);\r\n    };\r\n    \r\n      const nextReview = () => {\r\n        setCurReview((prevReview) => (prevReview === reviews.length - 1 ? prevReview : prevReview + 1));\r\n    };\r\n\r\n    const previousReview = () => {\r\n        setCurReview((prevReview) => (prevReview === 0 ? prevReview : prevReview - 1));\r\n    };\r\n\r\n    const handleTouchStart = (event) => {\r\n        setTouchStartX(event.touches[0].clientX);\r\n    };\r\n\r\n    const handleTouchMove = (event) => {\r\n        setTouchEndX(event.touches[0].clientX);\r\n    };\r\n\r\n    const handleTouchEnd = () => {\r\n        if (touchStartX - touchEndX > 50) {\r\n            nextReview();\r\n        } else if (touchEndX - touchStartX > 50) {\r\n            previousReview();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!isExpanded) {\r\n          sectionReviewsRef.current.scrollTo({top: 0, behavior: 'smooth'});\r\n        }\r\n      }, [isExpanded]);\r\n\r\n      useEffect(() => {\r\n        if (sectionReviewsRef.current) {\r\n          sectionReviewsRef.current.scrollTo({\r\n            left: sectionReviewsRef.current.offsetWidth * curReview,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n      }, [curReview]);\r\n    \r\n    return(\r\n        <div id='reviews' className='reviews section'>\r\n           <h1>Check out guests reviews!</h1>\r\n            <div ref={sectionReviewsRef} className={`reviews--container ${isExpanded ? 'reviews--expand' : 'reviews--collapse'}`}\r\n            onTouchStart={handleTouchStart}\r\n            onTouchMove={handleTouchMove}\r\n            onTouchEnd={handleTouchEnd}>\r\n                {hotelObjects.map((hotel) => {\r\n                    const reviewElements = [];\r\n                    \r\n                    for (let reviewIndex = 0; reviewIndex < hotel.reviews.reviews_users.length; reviewIndex++) {\r\n                        const elReview = hotel.reviews.reviews_users[reviewIndex];\r\n                        const reviewElement = (\r\n                            <div className=\"reviews--review\" key={reviewIndex}>\r\n                                <h2 className='hotel--name'>{hotel.name}</h2>\r\n                                <div key={reviewIndex}>\r\n                                    <div className='user--review'>\r\n                                        <h2 className='user--name'>{elReview}</h2>\r\n                                        <p className='user--reviews_review'>{hotel.reviews.reviews_rates[reviewIndex]}/5{'⭐'}</p>\r\n                                    </div>\r\n                                    <div className='reviews--quotes'>\r\n                                        <img src={icon_quote} alt=\"quote\" className=\"icon--quote icon--quote-start\" />\r\n                                        <p className='user--reviews_text'>{hotel.reviews.reviews_text[reviewIndex]}</p>\r\n                                        <img src={icon_quote} alt=\"quote\" className=\"icon--quote icon--quote-end\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                        reviewElements.push(reviewElement);\r\n                        reviews.push(reviewElement);\r\n                    }\r\n                    return reviewElements;\r\n                })}\r\n                <button className={`button--reviews ${isExpanded ? 'button--reviews-expand' : ''}`} onClick={toggleReviews}>\r\n                    <img src={icon_arrow} alt=\"arrow\" className={`icon--arrow ${isExpanded ? 'rotate' : ''}`} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}